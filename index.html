<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Лекция 1С: Архитектура Отчетов</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #1a0633;
            --accent: #ffcc00;
            --white: #ffffff;
            --glass: rgba(255, 255, 255, 0.08);
            --grad: linear-gradient(135deg, #2d0b5a 0%, #1a0633 100%);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Montserrat', sans-serif;
            background: var(--grad);
            color: var(--white);
            overflow: hidden;
            height: 100dvh; /* Dynamic viewport height для мобилок */
        }

        /* 1. ПРЕДУПРЕЖДЕНИЕ О ПОВОРОТЕ (Отображается только в портретном режиме мобилок) */
        #orientation-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg);
            z-index: 9999;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 30px;
        }

        @media (orientation: portrait) and (max-width: 900px) {
            #orientation-overlay { display: flex; }
        }

        .rotate-icon {
            width: 80px; height: 80px;
            border: 4px solid var(--accent);
            border-radius: 15px;
            margin-bottom: 20px;
            animation: rotateAnim 2s infinite;
        }

        @keyframes rotateAnim {
            0% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
            100% { transform: rotate(0deg); }
        }

        /* 2. ГЛАВНЫЙ КОНТЕЙНЕР */
        .slide-container {
            display: flex;
            transition: transform 0.8s cubic-bezier(0.2, 1, 0.3, 1);
            height: 100%;
        }

        .slide {
            min-width: 100vw;
            height: 100vh;
            display: grid;
            grid-template-columns: 1fr 1fr; /* По умолчанию 2 колонки */
            padding: 40px 60px;
            gap: 40px;
            align-items: center;
        }

        /* Адаптация для мобилок в горизонтальном режиме */
        @media (max-height: 500px) {
            .slide { padding: 20px 40px; gap: 20px; }
            h1 { font-size: 1.5rem !important; margin-bottom: 10px !important; }
            p { font-size: 0.9rem !important; line-height: 1.4 !important; }
            .text-block { padding: 20px !important; }
        }

        /* 3. ТЕКСТОВЫЙ БЛОК */
        .text-block {
            height: 100%;
            background: var(--glass);
            padding: 40px;
            border-radius: 25px;
            border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(15px);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        h2 { color: var(--accent); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 3px; margin-bottom: 10px; }
        h1 { font-size: 2.5rem; font-weight: 900; line-height: 1.1; margin-bottom: 20px; }
        p { font-size: 1rem; line-height: 1.6; color: rgba(255,255,255,0.9); margin-bottom: 15px; }
        b { color: var(--accent); }

        /* 4. ВИЗУАЛЬНЫЙ БЛОК (Скриншот) */
        .visual-block {
            height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .img-frame {
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.3);
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.1);
            display: flex; align-items: center; justify-content: center;
            overflow: hidden;
            box-shadow: 0 30px 60px rgba(0,0,0,0.5);
        }

        .img-frame img {
            max-width: 95%; max-height: 95%;
            object-fit: contain; border-radius: 8px;
        }

        /* 5. УПРАВЛЕНИЕ */
        .controls {
            position: fixed;
            bottom: 30px; right: 60px;
            display: flex; gap: 15px; z-index: 1000;
        }

        .btn {
            background: var(--accent); border: none; color: #000;
            padding: 12px 25px; border-radius: 12px;
            font-weight: 900; cursor: pointer; text-transform: uppercase;
            font-size: 0.8rem; transition: 0.3s;
        }

        .btn:hover { transform: scale(1.05); box-shadow: 0 0 20px rgba(255,204,0,0.4); }

        .btn-fs {
            position: fixed; top: 20px; right: 20px;
            background: var(--glass); color: white; border: 1px solid rgba(255,255,255,0.2);
            padding: 8px 15px; border-radius: 8px; font-size: 0.7rem; z-index: 1000;
        }

        .progress {
            position: fixed; top: 0; left: 0; height: 5px;
            background: var(--accent); z-index: 2000; transition: 0.4s;
        }

        /* Титульный слайд */
        .slide-intro { grid-template-columns: 1fr; text-align: center; }
        .slide-intro .text-block { align-items: center; }
        .slide-intro h1 { font-size: clamp(2.5rem, 6vw, 5rem); }

    </style>
</head>
<body>

    <!-- Заглушка для поворота -->
    <div id="orientation-overlay">
        <div class="rotate-icon"></div>
        <h1>Поверните телефон</h1>
        <p>Презентация со скриншотами 1С лучше всего смотрится в альбомном режиме.</p>
        <button class="btn" onclick="toggleFullScreen()">Развернуть</button>
    </div>

    <button class="btn-fs" onclick="toggleFullScreen()">[ ] Fullscreen</button>
    <div class="progress" id="progress"></div>

    <div class="slide-container" id="container">
        
        <!-- Слайд 1: Старт -->
        <section class="slide slide-intro">
            <div class="text-block">
                <h2>Laboratory №6</h2>
                <h1>Архитектура Отчетов 1С</h1>
                <p>Подробный разбор Системы Компоновки Данных (СКД) и Виртуальных таблиц.</p>
                <button class="btn" onclick="moveSlide(1)">Начать лекцию</button>
            </div>
        </section>

        <!-- Слайд 2: Понятие отчета -->
        <section class="slide">
            <div class="text-block">
                <h2>Теория</h2>
                <h1>Суть объекта «Отчет»</h1>
                <p>В 1С <b>Отчет</b> — это инструмент, который превращает тысячи строк данных в понятные цифры. В отличие от документа, отчет <b>не меняет базу</b>.</p>
                <p>Мы используем отчеты для анализа: сколько товара осталось, какая прибыль и кто из клиентов купил больше всех.</p>
            </div>
            <div class="visual-block">
                <div class="img-frame"><img src="step1.jpg"></div>
            </div>
        </section>

        <!-- Слайд 3: СКД -->
        <section class="slide">
            <div class="text-block">
                <h2>Инструмент</h2>
                <h1>Почему именно СКД?</h1>
                <p><b>Система компоновки данных</b> — это встроенный в 1С мощный генератор отчетов. </p>
                <p>Вам не нужно программировать каждую ячейку. Вы задаете <b>схему</b>, а 1С сама строит запрос к базе данных и рисует таблицу. Это экономит 90% времени разработчика.</p>
            </div>
            <div class="visual-block">
                <div class="img-frame"><img src="step2.jpg"></div>
            </div>
        </section>

        <!-- Слайд 4: Виртуальные таблицы -->
        <section class="slide">
            <div class="text-block">
                <h2>Производительность</h2>
                <h1>Виртуальные таблицы</h1>
                <p>Для Лабораторной №6 мы выбрали таблицу <b>ОстаткиИОбороты</b>.</p>
                <p>Это «виртуальный» объект. 1С не хранит эту таблицу в памяти постоянно, она вычисляет её в момент запроса, используя готовые <b>итоги</b>. Это позволяет получать данные по остаткам смартфонов мгновенно.</p>
            </div>
            <div class="visual-block">
                <div class="img-frame"><img src="step2.jpg"></div>
            </div>
        </section>

        <!-- Слайд 5: Периоды -->
        <section class="slide">
            <div class="text-block">
                <h2>Контроль</h2>
                <h1>Параметры и периоды</h1>
                <p>Без указания дат отчет покажет всё за всю историю. Мы используем параметры <b>НачалоПериода</b> и <b>КонецПериода</b>.</p>
                <p>Это позволяет системе понять, за какой именно месяц мы хотим увидеть движение материалов по складу.</p>
            </div>
            <div class="visual-block">
                <div class="img-frame"><img src="step3.jpg"></div>
            </div>
        </section>

        <!-- Слайд 6: Настройки пользователя -->
        <section class="slide">
            <div class="text-block">
                <h2>UX Дизайн</h2>
                <h1>Быстрый доступ</h1>
                <p>Мы ставим галочку <b>«Включать в пользовательские настройки»</b>. </p>
                <p>Благодаря этому, когда бухгалтер откроет программу, он увидит поля дат прямо сверху. Ему не нужно открывать сложные меню, чтобы просто поменять месяц.</p>
            </div>
            <div class="visual-block">
                <div class="img-frame"><img src="step4.jpg"></div>
            </div>
        </section>

        <!-- Слайд 7: Финал -->
        <section class="slide">
            <div class="text-block">
                <h2>Итог работы</h2>
                <h1>Готовый результат</h1>
                <p>Наш отчет «Материалы» готов. Он корректно группирует данные по складам и товарам, показывая приход, расход и остаток.</p>
                <button class="btn" onclick="window.location.href='https://твой-логин.github.io/kahoot-1c-lab6/'">К игре в Kahoot →</button>
            </div>
            <div class="visual-block">
                <div class="img-frame"><img src="step5.jpg"></div>
            </div>
        </section>

    </div>

    <div class="controls">
        <button class="btn" onclick="moveSlide(-1)">←</button>
        <button class="btn" onclick="moveSlide(1)">→</button>
    </div>

    <script>
        let currentSlide = 0;
        const container = document.getElementById('container');
        const slides = document.querySelectorAll('.slide');
        const progress = document.getElementById('progress');

        function moveSlide(dir) {
            currentSlide = Math.max(0, Math.min(currentSlide + dir, slides.length - 1));
            container.style.transform = `translateX(-${currentSlide * 100}vw)`;
            progress.style.width = `${((currentSlide + 1) / slides.length) * 100}%`;
        }

        function toggleFullScreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                if (document.exitFullscreen) document.exitFullscreen();
            }
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') moveSlide(1);
            if (e.key === 'ArrowLeft') moveSlide(-1);
        });
    </script>
</body>
</html>
